"use strict";(self.webpackChunkgwiyeom_blog=self.webpackChunkgwiyeom_blog||[]).push([[9926],{9216:function(e,n,t){t.r(n),t.d(n,{Head:function(){return u.p},default:function(){return o}});var l=t(6540),r=t(8453);function c(e){const n=Object.assign({h1:"h1",p:"p",pre:"pre",code:"code",ol:"ol",li:"li",ul:"ul",h3:"h3"},(0,r.RP)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.h1,null,"배경"),"\n",l.createElement(n.p,null,"사이드 프로젝트를 진행하면서 빌드/배포를 담당했다\n개발 서버(EC2)에 도커 컨테이너를 실행시키고 서브 도메인 등록해서 postman 으로 api 를 호출하는 것이 목표였다"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"NestJS 백엔드 앱을 Docker로 컨테이너화\nEC2에 Docker 컨테이너를 실행\nRoute53에서 도메인 (서브도메인) 등록 → EC2와 연결\nEC2에 Nginx 설치 & 설정\n도메인 요청을 Docker 컨테이너(NestJS 앱)로 프록시\nCertbot으로 SSL 인증서 발급 → HTTPS 적용\nPostman에서 https://서브도메인으로 API 테스트\n")),"\n",l.createElement(n.p,null,"왜 HTTPS 인증서를 발급해야 해?\n왜 그걸 Nginx에서 설정해야 해?"),"\n",l.createElement(n.h1,null,"1. HTTPS 인증서가 왜 필요할까?"),"\n",l.createElement(n.p,null,'요즘은 SSL 인증서 없는 사이트는 브라우저가 "안전하지 않음"이라고 경고'),"\n",l.createElement(n.p,null,"HTTPS의 핵심 = SSL 인증서\nSSL 인증서는 이 웹사이트가 신뢰할 수 있는 사이트라는 걸 증명해주는 디지털 문서입니다.\n→ 이 인증서가 있어야 브라우저가 자물쇠 🔒 띄우고 서버와 클라이언트 간의 통신을 암호화한다"),"\n",l.createElement(n.h1,null,"2. 그럼 왜 이걸 Nginx에서 처리할까?"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"클라이언트 (브라우저)\n    ↓ HTTPS 요청\nNginx (EC2 443 포트에서 대기)\n    ↓ 암호화 해제 (SSL 인증서 사용)\n    ↓ 요청 전달\nNestJS 앱 (ex: localhost:3000)\n")),"\n",l.createElement(n.p,null,"Nginx는 요청을 가장 먼저 받는 프록시로\nSSL 인증서로 암호화된 요청은 NestJS(앱)가 직접 처리할 수 없음\n앱는 암호화 해제된 요청만 처리해야 해서 Nginx가 중간에서 해석하고 처리"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"listen 443 ssl; → HTTPS 요청 받기\nssl_certificate → 인증서 파일 경로\nproxy_pass → 암호 해제된 요청을 Nest 앱으로 전달\n")),"\n",l.createElement(n.ol,{start:"3"},"\n",l.createElement(n.li,null,"인증서는 어떻게 만들까? Certbot으로 인증서 발급\n가장 많이 쓰는 무료 인증서가 Let's Encrypt 인데\ncertbot 이라는 툴로 발급함\n",l.createElement(n.code,null,"sudo certbot --nginx -d test-service.gwiyeom.org")),"\n"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"HTTPS 인증서 발급 시 인증을 위해 nginx가 꼭 실행되야함 -> nginx에서 발급 작업도 함께 함"),"\n"),"\n",l.createElement(n.h1,null,"결론"),"\n",l.createElement(n.p,null,"Nginx\t= 제일 먼저 요청 받아서 SSL 해석 후 앱에 전달\ncertbot =\tLet's Encrypt 인증서 자동 발급 툴"),"\n",l.createElement(n.h3,null,"TIP"),"\n",l.createElement(n.p,null,"HTTPS 인증서 = SSL 인증서 = TLS 인증서\n웹사이트를 HTTPS로 암호화해서 안전하게 통신할 수 있게 해주는 인증서"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"SSL 인증서\t 옛날 이름\tSecure Sockets Layer (구 버전 기술)\nTLS 인증서\t 현재 기술 이름\tTransport Layer Security (현 표준)\nHTTPS 인증서\t 실무에서 부르는 방식\tHTTPS 통신에 필요한 인증서 (SSL/TLS 포함)\n")))}var a=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.RP)(),e.components);return n?l.createElement(n,e,l.createElement(c,e)):c(e)},u=t(7292);function o(e){return l.createElement(u.A,e,l.createElement(a,e))}u.A}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-server-infra-2025-04-12-infra-carbot-mdx-426191ca759fc29e88bb.js.map