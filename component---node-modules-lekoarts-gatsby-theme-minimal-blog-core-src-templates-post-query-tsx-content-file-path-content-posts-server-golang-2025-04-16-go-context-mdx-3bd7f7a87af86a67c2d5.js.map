{"version":3,"file":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-server-golang-2025-04-16-go-context-mdx-3bd7f7a87af86a67c2d5.js","mappings":"mNAGA,SAASA,EAAkBC,GACzB,MAAMC,EAAcC,OAAOC,OAAO,CAChCC,GAAI,KACJC,EAAG,IACHC,KAAM,OACNC,WAAY,aACZC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,IAAK,MACLC,OAAQ,WACPC,EAAAA,EAAAA,MAAsBb,EAAMc,YAC/B,OAAOC,EAAAA,cAAoBA,EAAAA,SAAgB,KAAMA,EAAAA,cAAoBd,EAAYG,GAAI,KAAM,MAAO,KAAMW,EAAAA,cAAoBd,EAAYI,EAAG,KAAM,gCAAiCU,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,gBAAiB,aAAcS,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,uBAAwB,yCAA0C,KAAMS,EAAAA,cAAoBd,EAAYI,EAAG,KAAM,mBAAoBU,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,gBAAiB,0CAA2CS,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,gBAAiB,uBAAwB,KAAMS,EAAAA,cAAoBd,EAAYI,EAAG,KAAM,4FAAiG,KAAMU,EAAAA,cAAoBd,EAAYI,EAAG,KAAM,QAASU,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,gBAAiB,KAAMS,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,mBAAoB,0CAA2C,KAAMS,EAAAA,cAAoBd,EAAYM,WAAY,KAAM,KAAMQ,EAAAA,cAAoBd,EAAYI,EAAG,KAAM,yEAA0E,MAAO,KAAMU,EAAAA,cAAoBd,EAAYO,GAAI,KAAM,mCAAoC,KAAMO,EAAAA,cAAoBd,EAAYI,EAAG,KAAM,6BAA8B,KAAMU,EAAAA,cAAoBd,EAAYM,WAAY,KAAM,KAAMQ,EAAAA,cAAoBd,EAAYI,EAAG,KAAM,4DAA6D,MAAO,KAAMU,EAAAA,cAAoBd,EAAYI,EAAG,KAAMU,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,8CAA+C,KAAMS,EAAAA,cAAoBd,EAAYQ,GAAI,KAAM,KAAMM,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,iDAAkD,KAAMK,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,4CAA6C,KAAMK,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,+CAAgD,MAAO,KAAMK,EAAAA,cAAoBd,EAAYG,GAAI,KAAMW,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,gBAAiB,OAAQS,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,mBAAoB,oBAAqB,KAAMS,EAAAA,cAAoBd,EAAYM,WAAY,KAAM,KAAMQ,EAAAA,cAAoBd,EAAYI,EAAG,KAAMU,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,gBAAiB,MAAO,MAAO,KAAMS,EAAAA,cAAoBd,EAAYQ,GAAI,KAAM,KAAMM,EAAAA,cAAoBd,EAAYS,GAAI,KAAMK,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,QAAS,yBAA0B,KAAMS,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,+BAAgC,MAAO,KAAMK,EAAAA,cAAoBd,EAAYU,IAAK,KAAMI,EAAAA,cAAoBd,EAAYK,KAAM,CAC5pFU,UAAW,eACV,wHAAyH,KAAMD,EAAAA,cAAoBd,EAAYQ,GAAI,KAAM,KAAMM,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,8CAA+C,KAAMK,EAAAA,cAAoBd,EAAYS,GAAI,KAAMK,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,UAAW,iBAAkB,KAAMG,EAAAA,cAAoBd,EAAYS,GAAI,KAAMK,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,6BAA8B,UAAWG,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,YAAa,MAAO,KAAMG,EAAAA,cAAoBd,EAAYM,WAAY,KAAM,KAAMQ,EAAAA,cAAoBd,EAAYI,EAAG,KAAMU,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,mBAAoB,MAAO,MAAO,KAAMS,EAAAA,cAAoBd,EAAYQ,GAAI,KAAM,KAAMM,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,4BAA6B,KAAMK,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,QAASK,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,UAAW,KAAMG,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,YAAa,KAAMG,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,WAAY,aAAc,KAAMG,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,uCAAwC,MAAO,KAAMK,EAAAA,cAAoBd,EAAYU,IAAK,KAAMI,EAAAA,cAAoBd,EAAYK,KAAM,KAAM,mGAAsG,KAAMS,EAAAA,cAAoBd,EAAYQ,GAAI,KAAM,KAAMM,EAAAA,cAAoBd,EAAYS,GAAI,KAAMK,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,YAAa,yCAA0C,KAAMG,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,eAAgBK,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,WAAY,KAAMG,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,YAAa,KAAMG,EAAAA,cAAoBd,EAAYS,GAAI,KAAM,4BAA6B,MAAO,KAAMK,EAAAA,cAAoBd,EAAYG,GAAI,KAAM,MAAO,KAAMW,EAAAA,cAAoBd,EAAYM,WAAY,KAAM,KAAMQ,EAAAA,cAAoBd,EAAYI,EAAG,KAAMU,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,gBAAiB,6BAA8BG,EAAAA,cAAoBd,EAAYW,OAAQ,KAAM,mBAAoB,wIAAyI,MACh0E,CAKA,MAJA,SAAoBZ,QAAK,IAALA,IAAAA,EAAQ,CAAC,GAC3B,MAAOiB,QAASC,GAAahB,OAAOC,OAAO,CAAC,GAAGU,EAAAA,EAAAA,MAAsBb,EAAMc,YAC3E,OAAOI,EAAYH,EAAAA,cAAoBG,EAAWlB,EAAOe,EAAAA,cAAoBhB,EAAmBC,IAAUD,EAAkBC,EAC9H,E,UClBe,SAASmB,EAAiBnB,GACvC,OAAOe,EAAAA,cAAoBK,EAAAA,EAAepB,EAAOe,EAAAA,cAAoBM,EAAqBrB,GAC5F,CAHAoB,EAAAA,C","sources":["webpack://gwiyeom-blog/./content/posts/server/golang/2025-04-16-go-context.mdx","webpack://gwiyeom-blog/./node_modules/@lekoarts/gatsby-theme-minimal-blog-core/src/templates/post-query.tsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    code: \"code\",\n    blockquote: \"blockquote\",\n    h3: \"h3\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h1, null, \"배경\"), \"\\n\", React.createElement(_components.p, null, \"신입사원의 테스트 코드를 리뷰하다가\\n테스트를 위해 \", React.createElement(_components.code, null, \"echo.Context\"), \"를 직접 만들려고 \", React.createElement(_components.code, null, \"httptest.NewRequest\"), \"를 사용해 실제 요청 객체를 생성해서\\n코드가 너무 어렵게 느껴졌다\"), \"\\n\", React.createElement(_components.p, null, \"테스트 대상인 서비스 함수에 \", React.createElement(_components.code, null, \"echo.Context\"), \"를 직접 넘겨주고 있었고\\n서비스 함수를 테스트 하기 위해 신입사원은 \", React.createElement(_components.code, null, \"echo.Context\"), \"를 어떻게든 만들어야 했던 것이다.\"), \"\\n\", React.createElement(_components.p, null, \"여기서 문득 나도 잠깐 멈칫?!\\n\\\"왜 서비스 로직에서 echo.Context를 넘기고 있지?\\\"\\n\\\"그냥 context.Context 쓰면 되는 거 아닌가?\\\"\"), \"\\n\", React.createElement(_components.p, null, \"나 역시 \", React.createElement(_components.code, null, \"echo.Context\"), \"와 \", React.createElement(_components.code, null, \"context.Context\"), \"의 차이를 명확히 정리해 본 적이 없어서 이번 기회에 글로 남겨본다.\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, \"echo.Context를 서비스에 넘기면 비즈니스 로직이 웹 프레임워크에 종속되어 테스트가 어려워지고 코드 재사용성이 떨어짐\"), \"\\n\"), \"\\n\", React.createElement(_components.h3, null, \"왜 echo.Context를 서비스에 넘기면 안 좋을까?\"), \"\\n\", React.createElement(_components.p, null, \"에렌 프리먼(Eren Freeman) 의 조언\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, \"에렌 프리먼은 Go 개발에서 컨텍스트(Context) 객체를 서비스 계층에 넘기지 말아야 한다고 언급\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"웹 프레임워크인 echo 와 비즈니스 로직(서비스 계층)을 분리하자는 것!\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"테스트 어려움: echo.Context는 생성하기 복잡해 mocking이 어려움.\"), \"\\n\", React.createElement(_components.li, null, \"의존성 증가: 서비스 계층이 echo에 의존하게 되어 재사용성이 떨어짐.\"), \"\\n\", React.createElement(_components.li, null, \"관심사의 분리 위배: 웹 프레임워크와 비즈니스 로직이 결합되어 분리가 안 됨.\"), \"\\n\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(_components.code, null, \"echo.Context\"), \" vs \", React.createElement(_components.code, null, \"context.Context\"), \" — 헷갈렸던 내용 정리해본다\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"echo.Context\"), \"란?\"), \"\\n\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.code, null, \"echo\"), \" 프레임워크에서 제공하는 context\"), \"\\n\", React.createElement(_components.li, null, \"HTTP 요청과 관련된 다양한 정보를 담고 있다.\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-go\"\n  }, \"func GetMember(ctx echo.Context) error {\\n    if err := ctx.Validate(b); err != nil {\\n  \\t\\treturn err\\n  \\t}\\n}\\n\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"요청 객체, 응답 객체, 라우팅 정보, 파라미터 등 다양한 기능이 묶여 있음\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"핸들러 함수\"), \"에서는 아주 유용하지만,\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"서비스 계층까지 끌고 가면 테스트가 복잡해지고\"), \" echo에 \", React.createElement(_components.strong, null, \"강하게 종속됨\")), \"\\n\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"context.Context\"), \"란?\"), \"\\n\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Go 표준 라이브러리에 포함된 컨텍스트 타입\"), \"\\n\", React.createElement(_components.li, null, \"요청 간 \", React.createElement(_components.strong, null, \"데이터 전달\"), \", \", React.createElement(_components.strong, null, \"취소 신호 전파\"), \", \", React.createElement(_components.strong, null, \"타임아웃 처리\"), \" 등을 위해 사용\"), \"\\n\", React.createElement(_components.li, null, \"트레이싱 ID 같은 메타데이터를 함께 넣어 시스템 디버깅에 유용\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"func SearchMemberData(ctx context.Context) error {\\n    logrus.WithContext(ctx).Trace(\\\"\\\")\\n}\\n\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"표준 라이브러리\"), \"에서 제공 (net/http 등 포함 대부분의 Go 코드에서 사용)\"), \"\\n\", React.createElement(_components.li, null, \"인터페이스가 간단해서 \", React.createElement(_components.strong, null, \"테스트가 쉽고\"), \", \", React.createElement(_components.strong, null, \"의존성이 적음\")), \"\\n\", React.createElement(_components.li, null, \"주로 서비스 계층과 레포지토리 계층에서 사용\"), \"\\n\"), \"\\n\", React.createElement(_components.h1, null, \"결론\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"echo.Context\"), \" 핸들러 레벨에서만 사용하고 서비스 계층에서는 \", React.createElement(_components.strong, null, \"context.Context\"), \"를 사용\\n핸들러는 웹 프레임워크의 영역 /서비스는 로직의 영역으로 둘을 적절히 분리하면 코드의 테스트성, 유지보수성, 재사용성이 훨씬 좋아진다.\\necho.Context를 넘기면 서비스가 echo에 종속되어 테스트가 복잡해질 수 있다!\"), \"\\n\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import React from \"react\";\nimport GATSBY_COMPILED_MDX from \"/home/runner/work/gwiyeomgo.github.io/gwiyeomgo.github.io/content/posts/server/golang/2025-04-16-go-context.mdx\";\nimport PostComponent, {Head} from \"../components/post\";\nPostComponent\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PostComponent, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport {Head};\nconst query = \"2040642971\";\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","p","code","blockquote","h3","ul","li","pre","strong","_provideComponents","components","React","className","wrapper","MDXLayout","GatsbyMDXWrapper","PostComponent","GATSBY_COMPILED_MDX"],"sourceRoot":""}