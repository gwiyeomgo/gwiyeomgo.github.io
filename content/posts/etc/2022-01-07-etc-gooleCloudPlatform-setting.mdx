---
title: ETC google cloud platform
date: 2022-01-07
slug: "/etc/2022-01-07-etc-gooleCloudPlatform-setting"
tags:
  - ETC
  - LOGIN
  - 2022
---

### 배경
어드민 사용자는 구글 워크스페이스 계정을 모두 갖고 있으며 쉽게 로그인 할 수 있어서 도입했음
구글 워크스페이스 로그을 하기 위해서는 google cloud platform 에 프로잭트를 생성하고
생성된 프로젝트 정보가 필요합니다

### google cloud platform 뭐지?

구글 클라우드 플랫폼은
구글 검색과 유튜브와 같은 최종 사용자 제품을 위해 내부적으로 구글이 사용하는,
동일한 지원 인프라스트럭처 위에서 호스팅을 제공하는 구글의 클라우드 컴퓨팅 서비스이다

여기서 프로젝트를 생성
우리가 사용하는 url 셋팅을 한다.


### 한 계정에서 프로젝트를 만들면 다른 계정으로는 해당 프로젝트 못보나?

프로젝트

* 기본적으로 프로젝트를 만든 사람만 프로젝트를 관리할 권리가 있습니다.
* 프로젝트를 만든 사람이 퇴사해도 프로젝트가 유지되도록 하려면 프로젝트 소유자 역할을 1명 이상에게 할당해야 합니다. 자세한 내용은 프로젝트, 폴더, 조직에 대한 액세스 관리하기를 참고하세요.

### 0.프로젝트는 뭐지?

### 1.프로젝트 생성

 구글 계정인로 로그인하여 google cloud platform에 프로젝트를 생성합니다

### 2.프로젝트에 정보를 확인해서 어드민 조직도에 입력

* [API 및 서비스](https://console.cloud.google.com/apis/credentials?referrer=search&project=platformadmin)
  * 사용자 인증 정보  > 프로젝트만들기
  * [OAuth 동의 화면](https://support.google.com/workspacemigrate/answer/9222992?hl=ko) >
  새로추가된 어드민 url, 어드민 서비스 url을 추가합니다

```
구글 워크스페이스 도메인:  .we.org
client_id: 클라이언트 ID
client_secret : 클라이언트 보안 비밀
redirect_uri: 새로 생성한 어드민 서비스 url`+ /api/auth/google-workspace
```

### 3.google cloud platform 에 사용자 인증 정보 설정

1. 구글 클라우드 플렛폼 => 프로젝트 추가 => CreateApp

2. 사용자 인증 정보 => 사용자 인증 정보 만들기
    * OAuth 동의 화면-> 외부 :Google 계정이 있는 모든 테스트 사용자가 사용할 수 있습니다 (조직이라면 내부)
    * OAuth 클라이언트 ID 만들기
        애플리케이션 유형 = 웹 애플리케이션
        승인된 자바스크립트 원본 = http://localhost:3000
        승인된 리디렉션 URI = http://localhost:3000/redirect

OAuth Client ID,Client Secret 확인