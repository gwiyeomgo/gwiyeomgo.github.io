"use strict";(self.webpackChunkgwiyeom_blog=self.webpackChunkgwiyeom_blog||[]).push([[2469],{9444:function(e,n,l){l.r(n),l.d(n,{Head:function(){return a.p},default:function(){return E}});var t=l(6540),c=l(8453);function r(e){const n=Object.assign({h1:"h1",p:"p",code:"code",pre:"pre",ul:"ul",li:"li",blockquote:"blockquote"},(0,c.RP)(),e.components);return t.createElement(t.Fragment,null,t.createElement(n.h1,null,"배경"),"\n",t.createElement(n.p,null,"쿼리조회중 created json 값에서 특정 값을 조건으로 조회했다\ngpt 에 쿼리가 잘 작성했는지 확인해봤는데\n",t.createElement(n.code,null,"JSON_EXTRACT")," 는 문자열이 아닌 JSON 타입을 반환하기 때문에\n",t.createElement(n.code,null,"JSON_UNQUOTE")," 사용해야 더 안전하다고 한다\n진짜인지 테스트 해보고 기록한다"),"\n",t.createElement(n.h1,null,"JSON_EXTRACT 만 사용"),"\n",t.createElement(n.pre,null,t.createElement(n.code,null,"SELECT JSON_EXTRACT('{\"datetime\": \"2025-03-12\"}', '$.datetime') AS extracted_value;\n\n")),"\n",t.createElement(n.ul,null,"\n",t.createElement(n.li,null,'"2025-03-12"  -- 따옴표 포함 문자열'),"\n"),"\n",t.createElement(n.h1,null,"JSON_UNQUOTE + JSON_EXTRACT"),"\n",t.createElement(n.pre,null,t.createElement(n.code,null,"SELECT JSON_UNQUOTE(JSON_EXTRACT('{\"datetime\": \"2025-03-12\"}', '$.datetime')) AS unquoted_value;\n")),"\n",t.createElement(n.ul,null,"\n",t.createElement(n.li,null,"2025-03-12  -- 따옴표가 제외 문자열로"),"\n"),"\n",t.createElement(n.h1,null,"결론"),"\n",t.createElement(n.ul,null,"\n",t.createElement(n.li,null,"JSON_EXTRACT 사용시 JSON 타입은 따옴표를 포함한 문자열로 처리될 수 있음"),"\n",t.createElement(n.li,null,"JSON_UNQUOTE 사용하여 따옴표 제거된 문자열을 추출한 후"),"\n",t.createElement(n.li,null,"like 문으로 사용하면 정확한 결과를 얻을 수 있다"),"\n"),"\n",t.createElement(n.blockquote,null,"\n",t.createElement(n.p,null,"LIKE 비교 시 문제가 발생"),"\n"),"\n",t.createElement(n.pre,null,t.createElement(n.code,null,"SELECT JSON_EXTRACT('{\"datetime\": \"2025-03-12\"}', '$.datetime') LIKE '2025-03%';\n")),"\n",t.createElement(n.p,null,"원래 조회하려던 조건에서도 ",t.createElement(n.code,null,"JSON_UNQUOTE")," 를 제거하니 조회 실패되었다"))}var u=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,c.RP)(),e.components);return n?t.createElement(n,e,t.createElement(r,e)):r(e)},a=l(7292);function E(e){return t.createElement(a.A,e,t.createElement(u,e))}a.A}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-server-database-mysql-2025-03-13-mysql-json-unquote-mdx-b2be47c82e2018f340d4.js.map