{"version":3,"file":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-server-infra-aws-2022-09-06-aws-sns-mdx-5db408ae6bba200bf8ea.js","mappings":"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","sources":["webpack://gwiyeom-blog/./content/posts/server/infra/aws/2022-09-06-aws-sns.mdx","webpack://gwiyeom-blog/./node_modules/@lekoarts/gatsby-theme-minimal-blog-core/src/templates/post-query.tsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\",\n    h1: \"h1\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    strong: \"strong\",\n    tbody: \"tbody\",\n    td: \"td\",\n    ol: \"ol\",\n    pre: \"pre\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"Amazon Simple Notification Service(Amazon SNS)\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"주제 (topic) 생성\"), \"\\n\", React.createElement(_components.li, null, \"해당하는 모든 구독자에게 메시지를 푸시\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.a, {\n    href: \"https://docs.aws.amazon.com/sns/latest/dg/sns-vpc-tutorial.html\"\n  }, \"구현안내서\")), \"\\n\", React.createElement(_components.h1, null, \"배경\"), \"\\n\", React.createElement(_components.p, null, \"카카오 알림톡 장애로 기부를 못하는 상황이 발생했습니다\\n당시 시니어 개발자는 장애가 발생되면 성장의 기회라고 말해주셨고\\n이 상황을 해결하기 위해서 비동기 프로그래밍 회의를 진행했었습니다\"), \"\\n\", React.createElement(_components.h1, null, \"비동기 프로그래밍\"), \"\\n\", React.createElement(_components.p, null, \"비동기 프로그래밍은 여러 작업이 동시에 진행될 수 있도록 하여\\n각 작업이 다른 작업의 완료를 기다리지 않고 독립적으로 실행될 수 있게 하는 방식\"), \"\\n\", React.createElement(_components.h1, null, \"SNS,SQS,KAFKA 중 어떤 기술을 쓸지 고민했었습니다\"), \"\\n\", React.createElement(_components.table, null, React.createElement(_components.thead, null, React.createElement(_components.tr, null, React.createElement(_components.th, null, React.createElement(_components.strong, null, \"특징\")), React.createElement(_components.th, null, React.createElement(_components.strong, null, \"Kafka\")), React.createElement(_components.th, null, React.createElement(_components.strong, null, \"SNS (Simple Notification Service)\")), React.createElement(_components.th, null, React.createElement(_components.strong, null, \"SQS (Simple Queue Service)\")))), React.createElement(_components.tbody, null, React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"유형\")), React.createElement(_components.td, null, \"분산 스트리밍 플랫폼\"), React.createElement(_components.td, null, \"Pub/Sub 알림 서비스\"), React.createElement(_components.td, null, \"분산 메시지 큐\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"주요 용도\")), React.createElement(_components.td, null, \"실시간 데이터 스트리밍, 이벤트 소싱\"), React.createElement(_components.td, null, \"알림 시스템, 이벤트 기반 처리\"), React.createElement(_components.td, null, \"비동기 메시지 큐, 작업 대기열 관리\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"메시지 저장\")), React.createElement(_components.td, null, \"메시지 영구 저장 (디스크에 저장)\"), React.createElement(_components.td, null, \"메시지 영구 저장되지 않음\"), React.createElement(_components.td, null, \"메시지 저장 (최대 14일)\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"확장성\")), React.createElement(_components.td, null, \"매우 높은 확장성, 분산 처리\"), React.createElement(_components.td, null, \"높은 확장성, 자동 스케일링\"), React.createElement(_components.td, null, \"높은 확장성, 자동 스케일링\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"메시지 순서\")), React.createElement(_components.td, null, \"메시지 순서 보장 가능\"), React.createElement(_components.td, null, \"순서 보장 없음\"), React.createElement(_components.td, null, \"순서 보장 가능 (FIFO 큐 사용 시)\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"지속성\")), React.createElement(_components.td, null, React.createElement(_components.strong, null, \"강력한 지속성\"), \" (디스크에 저장)\"), React.createElement(_components.td, null, React.createElement(_components.strong, null, \"없음\"), \" (메시지 전송 후 사라짐)\"), React.createElement(_components.td, null, \"메시지 지속성 있음\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"사용 용도\")), React.createElement(_components.td, null, \"로그 수집, 스트리밍 데이터 처리, 이벤트 처리\"), React.createElement(_components.td, null, \"실시간 알림, SMS/이메일/모바일 푸시 알림\"), React.createElement(_components.td, null, \"분산 시스템에서 작업 큐 처리\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"속도\")), React.createElement(_components.td, null, \"매우 빠르며 높은 처리량 지원\"), React.createElement(_components.td, null, \"빠른 알림 전송, 지연 시간 짧음\"), React.createElement(_components.td, null, \"상대적으로 느림 (동기/비동기 큐 처리)\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"구독 옵션\")), React.createElement(_components.td, null, \"여러 소비자가 독립적으로 구독\"), React.createElement(_components.td, null, \"다양한 프로토콜을 통한 구독 (HTTP, Lambda, SQS 등)\"), React.createElement(_components.td, null, \"SQS나 Lambda로 메시지 전달 가능\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"복잡성\")), React.createElement(_components.td, null, \"상대적으로 설정과 운영이 복잡\"), React.createElement(_components.td, null, \"간단한 설정과 사용\"), React.createElement(_components.td, null, \"상대적으로 간단한 설정과 사용\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"메시지 크기\")), React.createElement(_components.td, null, \"큰 메시지 처리 가능 (메시지 크기 제한 없음)\"), React.createElement(_components.td, null, \"최대 256KB\"), React.createElement(_components.td, null, \"최대 256KB\")))), \"\\n\", React.createElement(_components.p, null, \"작은 규모 서비스이고 결국 메시지 지속성 있고 상대적으로 간단한 설정과 사용방법으로 SQS 를 선택했었다\\n만약 SNS를 통해서 했더라면 어떨까?\"), \"\\n\", React.createElement(_components.h1, null, \"SNS+SQS 를 사용했다면!\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"서비스에서 알림톡 발송을 위해 message+topic SNS 토픽에 메시지를 Publish\"), \"\\n\", React.createElement(_components.li, null, \"SNS는 해당 메시지를 연결된 SQS 큐(kakao-message-queue)에 Push하여 전달\"), \"\\n\", React.createElement(_components.li, null, \"메시징 시스템 서비스는 SQS 큐를 Polling하여 메시지를 수신하고, 인포뱅크 API를 호출해 알림톡을 발송합니다\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"[발신 서비스]\\n↓ (Publish)\\n[SNS Topic: kakao-message-topic]\\n↓ (Push)\\n[SQS Queue: kakao-message-queue]\\n↓ (Receive)\\n[카카오 메시지 시스템 서비스]\\n↓ (HTTP)\\n[인포뱅크 발송 API]\\n\")), \"\\n\", React.createElement(_components.h1, null, \"SNS 만 사용했던 경험\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"여러 서비스가 log-topic 으로 메시지를 Publish\"), \"\\n\", React.createElement(_components.li, null, \"Logging Service는 이 log-topic을 Subscribe구독\"), \"\\n\", React.createElement(_components.li, null, \"수신한 메시지를 DB에 저장\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"[Service A]    [Service B]\\n    ↓ (Publish)     ↓ (Publish)\\n[  log-topic (Pub/Sub Topic)   ]\\n    ↓\\n[ Logging Service ] (Subscriber)\\n    ↓\\n[ Database  ]\\n\\n\")));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import React from \"react\";\nimport GATSBY_COMPILED_MDX from \"/home/runner/work/gwiyeomgo.github.io/gwiyeomgo.github.io/content/posts/server/infra/aws/2022-09-06-aws-sns.mdx\";\nimport PostComponent, {Head} from \"../components/post\";\nPostComponent\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PostComponent, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport {Head};\nconst query = \"2040642971\";\n"],"names":["_createMdxContent","props","_components","Object","assign","p","ul","li","a","h1","table","thead","tr","th","strong","tbody","td","ol","pre","code","_provideComponents","components","React","href","wrapper","MDXLayout","GatsbyMDXWrapper","PostComponent","GATSBY_COMPILED_MDX"],"sourceRoot":""}