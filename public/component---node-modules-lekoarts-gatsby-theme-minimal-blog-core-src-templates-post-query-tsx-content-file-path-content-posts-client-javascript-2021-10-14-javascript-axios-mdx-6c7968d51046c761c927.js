"use strict";(self.webpackChunkgwiyeom_blog=self.webpackChunkgwiyeom_blog||[]).push([[8211],{3259:function(e,n,t){t.r(n),t.d(n,{Head:function(){return o.F},default:function(){return i}});var a=t(7294),r=t(1151);function l(e){const n=Object.assign({h1:"h1",p:"p",code:"code",ul:"ul",li:"li",pre:"pre",a:"a"},(0,r.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.h1,null,"배경"),"\n",a.createElement(n.p,null,"현재 회사에서 2개의 시스템을 하나로 합치는 작업을 하고있다.\r\n단순하게 화면,api를 합치는 작업이다.\r\n그 작업에서 주로 어드민 화면을 옮기고 바뀐 API로 연동하는 작업을 진행하고 있다.\r\n이번 작업 하면서 ",a.createElement(n.code,null,"api")," 호출할 때 ",a.createElement(n.code,null,"axios"),"를 사용하게 되었다."),"\n",a.createElement(n.h1,null,"문제"),"\n",a.createElement(n.p,null,"수정 ",a.createElement(n.code,null,"API"),"를 연동하려고 할때 400번 에러를 반환했다."),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"내 코드"),"\n"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-javascript"}," axios.get(apiPath, { params: params })\r\n axios.put(apiPath, { params: params })\n")),"\n",a.createElement(n.p,null,"#400번은 어떤 에러?"),"\n",a.createElement(n.p,null,"#넘긴 데이터의 타입을 확인해봤다."),"\n",a.createElement(n.p,null,"숫자 vs 문자 문제 없었다"),"\n",a.createElement(n.p,null,"입사 이후에 api를 호출하는 코드를 계속 사용해왔고 익숙해 졌다고 생각했다.\r\n기존 코드와 달라진 점은 axios를 사용한다는 것 뿐이다.\r\n아.. 나는 ",a.createElement(n.code,null,"axios"),"에 대해 공부하지 않았다는 사실을 알게되었다."),"\n",a.createElement(n.h1,null,a.createElement(n.code,null,"axios"),"가 뭐지"),"\n",a.createElement(n.h1,null,a.createElement(n.code,null,"axios"),"에서 ",a.createElement(n.code,null,"put"),"은 어떻게 사용하지?"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-javascript"},"axios.put(apiPath, params);\n")),"\n",a.createElement(n.h1,null,"axios 호출시 loading 추가"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-javascript"},"export function showLoading() {\r\n  EventBroadcaster.broadcast(SHOW_LOADING_EVENT_TOPIC, {show: true})\r\n}\r\n\r\naxios.interceptors.request.use(\r\n      function (config) {\r\n        if (config.loading) {\r\n          showLoading();\r\n        }\r\n        return config;\r\n      },\r\n      function (error) {\r\n        // 오류 요청을 보내기전 수행할 일\r\n        return Promise.reject(error);\r\n      });\n")),"\n",a.createElement(n.h1,null,"추가적으로.."),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-javascript"},"axios.defaults.headers['Authorization'] = `Bearer ${accessToken}`;\n")),"\n",a.createElement(n.p,null,"이처럼 값을 추가할 수 있다."),"\n",a.createElement(n.h1,null,"출처"),"\n",a.createElement(n.p,null,a.createElement(n.a,{href:"https://stackoverflow.com/questions/51778456/how-to-add-global-loading-spin-effect-in-axios-interceptor-for-a-react-project"},"https://stackoverflow.com/questions/51778456/how-to-add-global-loading-spin-effect-in-axios-interceptor-for-a-react-project"),"\r\n",a.createElement(n.a,{href:"https://yamoo9.github.io/axios/guide/api.html"},"https://yamoo9.github.io/axios/guide/api.html")))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?a.createElement(n,e,a.createElement(l,e)):l(e)},o=t(8804);function i(e){return a.createElement(o.Z,e,a.createElement(c,e))}o.Z}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-client-javascript-2021-10-14-javascript-axios-mdx-6c7968d51046c761c927.js.map