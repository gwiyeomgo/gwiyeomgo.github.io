"use strict";(self.webpackChunkgwiyeom_blog=self.webpackChunkgwiyeom_blog||[]).push([[7668],{5749:function(e,n,t){t.r(n),t.d(n,{Head:function(){return u.F},default:function(){return o}});var l=t(7294),c=t(1151);function r(e){const n=Object.assign({h1:"h1",p:"p",code:"code",blockquote:"blockquote"},(0,c.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.h1,null,"배경"),"\n",l.createElement(n.p,null,"a 시스템에서 b 시스템의 권역정보를 redis 로 저장하고 있다\n주기적으로 조회해서 최신정보로 업데이트 하고 있는데\n최근 사용자 요청이\n권역을 선택해서 원하는 정보를 업고 싶다고 한다"),"\n",l.createElement(n.p,null,"redis 에서 특정 key 값을 가져와서 목록을 반환하는 api 를 만드려고 한다\n그런데 우리 키 구성이  ",l.createElement(n.code,null,'"TEST|2342545.4352353","TEST1|2342545.4352353"')," 이런 형식인데\n내가 원하는 키값은 ",l.createElement(n.code,null,'"TEST|"'),"가 포함된 키값이다"),"\n",l.createElement(n.p,null,"검색해보니\n",l.createElement(n.code,null,"keys TEST|*")," 형태로 조회하면 가능하고"),"\n",l.createElement(n.p,null,"더 나은 성능을 원한다면 scan 을 사용한다고 한다\n",l.createElement(n.code,null,"scan 0 match TEST|*")),"\n",l.createElement(n.p,null,"이때 조회량이 많다면 limit 처럼\n",l.createElement(n.code,null,"scan 0 match TEST|* count 100"),"\n한 번에 최대 100개의 키를 반환 된다."),"\n",l.createElement(n.h1,null,"EXPIRE 기능"),"\n",l.createElement(n.p,null,"redis 에서 키값에 만료시간을 설정하고 만료시간을 조회할 수 있다"),"\n",l.createElement(n.blockquote,null,"\n",l.createElement(n.p,null,l.createElement(n.code,null,"SET {key} {value}")),"\n"),"\n",l.createElement(n.blockquote,null,"\n",l.createElement(n.p,null,l.createElement(n.code,null,"EXPIRE {key} 60"),"\n",l.createElement(n.code,null,"(integer) 1  # TTL 설정 성공")),"\n"))}var a=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?l.createElement(n,e,l.createElement(r,e)):r(e)},u=t(8804);function o(e){return l.createElement(u.Z,e,l.createElement(a,e))}u.Z}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-server-database-redis-2024-06-21-redis-key-mdx-1d0304a4c86b70291fe4.js.map